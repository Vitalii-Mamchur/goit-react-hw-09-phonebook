(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[0],{130:function(t,e,n){},132:function(t,e,n){t.exports={form:"Form_form__2A_Oq",form_libel:"Form_form_libel__2aDO6",formInput:"Form_formInput__3CVzY"}},133:function(t,e,n){t.exports={filter_label:"Filter_filter_label__S7XMl"}},134:function(t,e,n){t.exports={contacts:"Contacts_contacts__3uBCd",contacts_item:"Contacts_contacts_item__27AWT"}},139:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(50),a=n(4);function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){return!e||"object"!==l(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var m=n(10),p=n(23),d=n.n(p),h=n(11);d.a.defaults.baseURL="http://localhost:4040";var j,y=new Uint8Array(16);function O(){if(!j&&!(j="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return j(y)}var v=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var _=function(t){return"string"===typeof t&&v.test(t)},g=[],x=0;x<256;++x)g.push((x+256).toString(16).substr(1));var C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(g[t[e+0]]+g[t[e+1]]+g[t[e+2]]+g[t[e+3]]+"-"+g[t[e+4]]+g[t[e+5]]+"-"+g[t[e+6]]+g[t[e+7]]+"-"+g[t[e+8]]+g[t[e+9]]+"-"+g[t[e+10]]+g[t[e+11]]+g[t[e+12]]+g[t[e+13]]+g[t[e+14]]+g[t[e+15]]).toLowerCase();if(!_(n))throw TypeError("Stringified UUID is invalid");return n};var w=function(t,e,n){var r=(t=t||{}).random||(t.rng||O)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return C(r)},S=n(132),R=n.n(S),I=n(129),N=n(2),A=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,t);var e,n,r,o=b(s);function s(){var t;c(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).state={name:"",number:""},t.formInputId=w(),t.handleChange=function(e){var n=e.currentTarget,r=n.name,o=n.value;t.setState(Object(a.a)({},r,o)),t.setState({id:t.formInputId})},t.handleSubmit=function(e){var n=t.props,r=n.contacts,o=n.onSubmit,a=r.items,c=t.state.name;e.preventDefault(),a.find((function(t){return t.name===c}))?alert("".concat(c," is already in the contacts")):o(t.state),t.reset()},t.reset=function(){t.setState({name:"",number:""})},t}return e=s,(n=[{key:"render",value:function(){return Object(N.jsxs)("form",{className:R.a.form,id:this.formInputId,onSubmit:this.handleSubmit,children:[Object(N.jsxs)("label",{className:R.a.form_libel,children:["Name",Object(N.jsx)("input",{className:R.a.formInput,type:"text",value:this.state.name,onChange:this.handleChange,placeholder:"Enter name",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0})]}),Object(N.jsxs)("label",{className:R.a.formTitle,children:["Number",Object(N.jsx)("input",{className:R.a.formInput,type:"tel",value:this.state.number,onChange:this.handleChange,placeholder:"Enter number",name:"number",pattern:"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 11-12 \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u0438\u0444\u0440\u044b, \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043f\u0443\u0437\u0430\u0442\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0})]}),Object(N.jsx)(I.a,{name:"add",type:"submit",variant:"outlined",color:"primary",children:"Add contact"})]})}}])&&i(e.prototype,n),r&&i(e,r),s}(r.Component);A.defaultProps={name:"",number:""};var k=Object(m.b)((function(t,e){return{contacts:t.contacts}}),(function(t){return{onSubmit:function(e,n){return t(function(t){var e=t.name,n=t.number;return function(t){var r={name:e,number:n};t(Object(h.b)()),d.a.post("/contacts",r).then((function(e){var n=e.data;t(Object(h.c)(n)),console.log(n)})).catch((function(e){return t(Object(h.a)(e))}))}}(e))}}}))(A),P=n(133),E=n.n(P),D=n(32),F=function(t){return t.contacts.loading},T=function(t){return t.contacts.filter},V=Object(D.a)([function(t){return t.contacts.items},T],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}));var z=function(){var t=Object(m.c)(),e=Object(m.d)(T),n=Object(r.useCallback)((function(e){t(Object(h.d)(e.target.value))}),[t]);return Object(N.jsxs)("label",{className:E.a.filter_label,children:["Find contacts by name",Object(N.jsx)("input",{className:E.a.filter_input,type:"text",value:e,onChange:n})]})},L=n(134),U=n.n(L);var q=function(){var t=Object(m.c)(),e=Object(m.d)(V),n=Object(m.d)(F);return console.log(n),Object(N.jsxs)(N.Fragment,{children:[n&&Object(N.jsx)("h1",{children:"....Download"}),Object(N.jsx)("ul",{className:U.a.contacts,children:e.map((function(e){return Object(N.jsxs)("li",{className:U.a.contacts_item,children:[e.name+" : "+e.number,Object(N.jsx)("div",{children:Object(N.jsx)(I.a,{type:"button",variant:"outlined",color:"primary",name:"delete",onClick:function(){var n;t((n=e.id,function(t){t(Object(h.f)()),d.a.delete("/contacts/".concat(n)).then((function(){return t(Object(h.g)(n))})).catch((function(e){return t(Object(h.e)(e))}))}))},children:"delete"})})]},e.id)}))})]})};n(130);e.default=function(){return Object(N.jsx)(o.a,{children:Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"Phonebook"}),Object(N.jsx)(k,{}),Object(N.jsx)("h2",{children:"Contacts"}),Object(N.jsx)(z,{}),Object(N.jsx)(q,{})]})})}}}]);
//# sourceMappingURL=contacts-view.4043985d.chunk.js.map